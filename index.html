<!DOCTYPE html>
<html>
<head>
<title>Web Audio Pulsar Synthesizer</title>
<script src="sketch.js" type="text/javascript"></script>




<!-- BUTTONS   -->

<button onclick="oscOn()">On</button>  <!-- button is borrowed and reworked from (w3schools, n.d.)   -->

<form action>
<input type="submit" value="Off">      <!-- input type is borrowed and reworked from (w3schools, n.d. b)   -->
</form> 

<button id="button3" onclick="loadSound('audio/sound.wav')">Load Buffer</button>

<button id="button4" onclick="playSound()">Play Buffer</button>

<button id="button5" onclick="StoparbitraryShaper()">Stop Arbitrary Shaper</button>

<button id="button6" onclick="sine()">Sine</button>

<button id="button7" onclick="square()">Square</button>

<button id="button8" onclick="saw()">Sawtooth</button>

<button id="button9" onclick="triangle()">Triangle</button>

 
 
 

</head>


<body>
<p>For the envelope of the duty cycle-silence ratio envelope to work first click the load sound button,
   this load a file into the buffer. Wait a brief moment and then click play.
</p>



<br>
<br>
<br>   

<!-- SLIDERS -->

<br>
<p>This slider controls the Pitch frequency of the main oscillator</p>
<p>Pitch-Frequency of Pulsaret Waveform<input type="range" min="0.1" max="1200.0" step="0.001" value="350.0" id="freq" name="freq" onchange="pulsaretpitchFreq(this.value);" oninput="changeFreq()"></p>
<input type="text" id="pitchFreq" value="" >

<br>
<br>
This slider control the rate of pulsar output. 
<p>Fundamental Frequency<input type="range" min="0.1" max="20.0" step="0.001" value="5.0" id="rate" name="rate" onchange="fundamentalFreq(this.value)" oninput="changeEmissionRate()"></p> <p>0 to 20Hz - Infrasonic Range</p>
<input type="text" id="infraFreq" value="" >

<br>
<p>Fundamental Frequency<input type="range" min="20.0" max="100.0" step="0.001" value="5.0" id="rateTwentyPlus" name="rateTwentyPlus" onchange="fundamentalFreqAboveTwenty(this.value)" oninput="changeEmissionRateAboveTwenty()"></p><p>20 to 100Hz - Audio Range</p>         
<input type="text" id="audioRangeFreq" value="" >

<br>
<p>This slider controls the Duty cycle (formant frequency) of the main oscillator</p>
<p>Duty cycle-Silence Ratio<input type="range" min="-3.0" max="3.0" step="0.00001" value="0.0" id="pwm" name="pwm" onchange="dutyCycleValue(this.value)" oninput="changePWM()"></p>  
<input type="text" id="dutyCycleValue" value="" >

<br>
<p> This slider controls the rate at which the envelope for the Duty Cycle-Silence Ratio plays at </p>
<p>Duty cycle-Silence Ratio Envelope Rate - 0.002 to 0.3<input type="range" min="0.002" max="0.3" step="0.001" value="0.003" id="dcRate" name="dcRate" onchange="bufferPlaybackRateValueFast(this.value)" oninput="changeDCRate()"></p>
<input type="text" id="bufferRate1" value="" >

<br>
<p>Duty cycle-Silence Ratio Envelope Rate - 0.0000001 to 0.0003<input type="range" min="0.000001" max="0.0003" step="0.0000001" value="0.003" id="slowdcRate" name="slowdcRate" onchange="bufferPlaybackRateValueSlow(this.value)" oninput="changeSlowDCRate()"></p>
<input type="text" id="bufferRate2" value="" >








<br>
 

<h2>Pulsar Train Schedule</h2>
<p1>Inspired by Roads' Pulsar Graph (Roads 2001, p.145)<p1>
<br>
<br>
<button id="button10" onclick="trainSchedule()">TrainSchedule</button>

<br>
<p>Time Between Scheduled Points<input type="range" min="1.0" max="8.5" step="0.001" value="3.0" id="space" name="space" onchange="pointSpacing(this.value);" oninput="trainSchedule()"></p>
<input type="text" id="spacing" value="" >

<br>
<p>Fundamental frequency for Point 1<input type="range" min="0.2" max="100.5" step="0.001" value="3.0" id="fF1" name="fF1" onchange="ff1valuepoint(this.value);" oninput="trainSchedule()"></p>
<input type="text" id="ff1Value" value="" >

<br>
<p>Fundamental frequency for Point 2<input type="range" min="0.2" max="100.5" step="0.001" value="3.0" id="fF2" name="fF2" onchange="ff2valuepoint(this.value);" oninput="trainSchedule()"></p>
<input type="text" id="ff2Value" value="" >

<br>
<p>Fundamental frequency for Point 3<input type="range" min="0.2" max="100.5" step="0.001" value="3.0" id="fF3" name="fF3" onchange="ff3valuepoint(this.value);" oninput="trainSchedule()"></p>
<input type="text" id="ff3Value" value="" >


<script>

function pulsaretpitchFreq(val) { // changes the pitch frequency of the pulsaret oscillator
document.getElementById('pitchFreq').value=val; 
}

function fundamentalFreq(val) { // changes the fundamental frequency 0 - 20Hz  
document.getElementById('infraFreq').value=val; 
}  
  
function fundamentalFreqAboveTwenty(val) {// changes the fundamental frequnecy 20 - 100Hz
document.getElementById('audioRangeFreq').value=val; 
} 

function dutyCycleValue(val) {// changes duty cycle silence ratio
document.getElementById('dutyCycleValue').value=val; 
} 

function bufferPlaybackRateValueFast(val) {// changes playback rate of buffer from 0.002 to 0.3
document.getElementById('bufferRate1').value=val; 
} 

function bufferPlaybackRateValueSlow(val) {// changes playback rate of buffer from 0.0000001 to 0.0003
document.getElementById('bufferRate2').value=val; 
} 

//******************************************************************************************************
// PulsarGraph slider values

function pointSpacing(val) { // shows time between scheduled points between 1 and 8.5 seconds
document.getElementById('spacing').value=val; 
} 

function ff1valuepoint(val) { // shows the fundmental frequency for popint 1
document.getElementById('ff1Value').value=val; 
} 

function ff2valuepoint(val) { //  shows the fundmental frequency for popint 2
document.getElementById('ff2Value').value=val; 
} 

function ff3valuepoint(val) { //  shows the fundmental frequency for popint 2
document.getElementById('ff3Value').value=val; 
} 

</script>
</body>
</html>
